{"version":3,"file":"js/83.0ff02203.js","mappings":"sIAIAA,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,4xBCkHjB,MAAMI,GAAYC,EAAAA,EAAAA,KACZC,GAASC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,IAAIC,KAAKC,OAAMC,EAAAA,EAAAA,IAAU,eAAiB,OAEvDC,GAAYJ,EAAAA,EAAAA,IAAI,CACpBK,KAAM,IACNC,MAAO,KACPC,QAAS,KACTC,QAAS,OAGX,IAAIC,EAAQ,KAGZ,MAAMC,EAAcC,IAClB,IAAKA,EAAS,MAAO,GACrB,MAAMC,EAAO,IAAIC,KAAKF,GACtB,MAAO,GAAGC,EAAKE,iBAAiBC,OAAOH,EAAKI,WAAa,GAAGC,SAAS,EAAG,QAAQF,OAAOH,EAAKM,WAAWD,SAAS,EAAG,OAAO,EAItHE,EAAqBA,KACzB,IAAKpB,EAAWqB,MAAMC,SAAU,OAEhC,MAAMC,EAAU,IAAIT,KAAKd,EAAWqB,MAAMC,UAAUE,UAC9CC,GAAM,IAAIX,MAAOU,UACjBE,EAAOH,EAAUE,EAEvB,GAAIC,GAAQ,EAUV,OATArB,EAAUgB,MAAQ,CAChBf,KAAM,IACNC,MAAO,KACPC,QAAS,KACTC,QAAS,WAEPC,GACFiB,cAAcjB,IAKlB,MAAMJ,EAAOsB,KAAKC,MAAMH,EAAO,OACzBnB,EAAQqB,KAAKC,MAAOH,EAAO,MAAqB,MAChDlB,EAAUoB,KAAKC,MAAOH,EAAO,KAAgB,KAC7CjB,EAAUmB,KAAKC,MAAOH,EAAO,IAAe,KAElDrB,EAAUgB,MAAQ,CAChBf,KAAMU,OAAOV,GACbC,MAAOS,OAAOT,GAAOW,SAAS,EAAG,KACjCV,QAASQ,OAAOR,GAASU,SAAS,EAAG,KACrCT,QAASO,OAAOP,GAASS,SAAS,EAAG,KACtC,EAIGY,EAAoBA,KACpBlC,EAAUmC,UAAUC,UACtBlC,EAAOmC,KAAK,qBAEZnC,EAAOmC,KAAK,iBACd,E,OAGFC,EAAAA,EAAAA,KAAU,KAER,MAAMC,GAAe/B,EAAAA,EAAAA,IAAU,cAC/B,GAAI+B,EACF,IACEnC,EAAWqB,MAAQnB,KAAKC,MAAMgC,EAChC,CAAE,MAAOC,GACPC,QAAQD,MAAM,YAAaA,GAC3BpC,EAAWqB,MAAQ,CAAC,CACtB,CAIFD,IACAV,EAAQ4B,YAAYlB,EAAoB,IAAK,KAI/CmB,EAAAA,EAAAA,KAAY,KACN7B,GACFiB,cAAcjB,EAChB,I,g6GCzMF,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://gdmu-mentor-selection/./node_modules/vue-loader/dist/exportHelper.js","webpack://gdmu-mentor-selection/./src/views/student/student-dashboard.vue","webpack://gdmu-mentor-selection/./src/views/student/student-dashboard.vue?1aaa"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n  <div class=\"dashboard\">\r\n    <!-- 个人信息卡片 -->\r\n    <el-card class=\"info-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span class=\"title\">\r\n            <el-icon><UserFilled /></el-icon>\r\n            个人信息\r\n          </span>\r\n          <el-button type=\"primary\" link @click=\"router.push('/student/settings')\">\r\n            <el-icon><Setting /></el-icon>\r\n            修改信息\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n      <el-descriptions :column=\"2\" border>\r\n        <el-descriptions-item label=\"姓名\">{{ userStore.userInfo?.stu_name }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"学号\">{{ userStore.userInfo?.stu_num }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"班级\">{{ userStore.userInfo?.stu_cls }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"联系方式\">{{ userStore.userInfo?.stu_phone }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"专业\">{{ userStore.userInfo?.stu_mjr }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"年级\">{{ userStore.userInfo?.stu_gde }}级</el-descriptions-item>\r\n      </el-descriptions>\r\n    </el-card>\r\n\r\n    <!-- 系统通知卡片 -->\r\n    <el-card class=\"notice-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span class=\"title\">\r\n            <el-icon><Bell /></el-icon>\r\n            系统通知\r\n          </span>\r\n        </div>\r\n      </template>\r\n      <div class=\"notice-content\">\r\n        <!-- 倒计时模块 -->\r\n        <div class=\"deadline-box\">\r\n          <div class=\"deadline-title\">\r\n            选择截止时间：{{ formatDate(configInfo.end_time) }}\r\n          </div>\r\n          <div class=\"countdown\">\r\n            距离截止还剩：\r\n            <span class=\"time-item\">{{ countdown.days }}</span> 天\r\n            <span class=\"time-item\">{{ countdown.hours }}</span> 时\r\n            <span class=\"time-item\">{{ countdown.minutes }}</span> 分\r\n            <span class=\"time-item\">{{ countdown.seconds }}</span> 秒\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 配置信息卡片组 -->\r\n        <div class=\"info-box\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n              <div class=\"stat-item\">\r\n                <div class=\"stat-header\">小组人数上限</div>\r\n                <div class=\"stat-body\">\r\n                  <div class=\"stat-number\">{{ configInfo.max_group_member }}</div>\r\n                  <div class=\"stat-label\">人/组</div>\r\n                </div>\r\n              </div>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <div class=\"stat-item\">\r\n                <div class=\"stat-header\">可选导师数量</div>\r\n                <div class=\"stat-body\">\r\n                  <div class=\"stat-number\">{{ configInfo.max_stu_choice }}</div>\r\n                  <div class=\"stat-label\">个导师</div>\r\n                </div>\r\n              </div>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <div class=\"stat-item\">\r\n                <div class=\"stat-header\">当前状态</div>\r\n                <div class=\"stat-body\">\r\n                  <div class=\"stat-status\">\r\n                    <div class=\"status-wrapper\">\r\n                      <div \r\n                        class=\"status-content\" \r\n                        @click=\"handleStatusClick\"\r\n                        style=\"cursor: pointer\"\r\n                      >\r\n                        <el-tag \r\n                          :type=\"userStore.userInfo?.stu_group ? 'success' : 'warning'\"\r\n                          effect=\"dark\"\r\n                        >\r\n                          {{ userStore.userInfo?.stu_group ? '已加入小组' : '未加入小组' }}\r\n                        </el-tag>\r\n                        <span class=\"action-text\">\r\n                          {{ userStore.userInfo?.stu_group ? '点击查看我的小组' : '点击前往创建小组' }}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n\r\n        <!-- 系统提示 -->\r\n        <div class=\"notice-message\">\r\n          <el-alert\r\n            :title=\"configInfo.conf_info\"\r\n            type=\"warning\"\r\n            :closable=\"false\"\r\n            show-icon\r\n            effect=\"dark\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\nimport { useUserStore } from '@/store/modules/user'\r\nimport { Bell, UserFilled, Setting } from '@element-plus/icons-vue'\r\nimport { getCookie } from '@/utils/cookie'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst userStore = useUserStore()\r\nconst router = useRouter()\r\nconst configInfo = ref(JSON.parse(getCookie('configInfo') || '{}'))\r\n\r\nconst countdown = ref({\r\n  days: '0',\r\n  hours: '00',\r\n  minutes: '00',\r\n  seconds: '00'\r\n})\r\n\r\nlet timer = null\r\n\r\n// 格式化日期\r\nconst formatDate = (dateStr) => {\r\n  if (!dateStr) return ''\r\n  const date = new Date(dateStr)\r\n  return `${date.getFullYear()}年${String(date.getMonth() + 1).padStart(2, '0')}月${String(date.getDate()).padStart(2, '0')}日`\r\n}\r\n\r\n// 计算倒计时\r\nconst calculateCountdown = () => {\r\n  if (!configInfo.value.end_time) return\r\n\r\n  const endTime = new Date(configInfo.value.end_time).getTime()\r\n  const now = new Date().getTime()\r\n  const diff = endTime - now\r\n\r\n  if (diff <= 0) {\r\n    countdown.value = {\r\n      days: '0',\r\n      hours: '00',\r\n      minutes: '00',\r\n      seconds: '00'\r\n    }\r\n    if (timer) {\r\n      clearInterval(timer)\r\n    }\r\n    return\r\n  }\r\n\r\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24))\r\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\r\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))\r\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000)\r\n\r\n  countdown.value = {\r\n    days: String(days),\r\n    hours: String(hours).padStart(2, '0'),\r\n    minutes: String(minutes).padStart(2, '0'),\r\n    seconds: String(seconds).padStart(2, '0')\r\n  }\r\n}\r\n\r\n// 处理状态点击\r\nconst handleStatusClick = () => {\r\n  if (userStore.userInfo?.stu_group) {\r\n    router.push('/student/my-group')\r\n  } else {\r\n    router.push('/student/group')\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  // 从 cookie 获取配置信息\r\n  const storedConfig = getCookie('configInfo')\r\n  if (storedConfig) {\r\n    try {\r\n      configInfo.value = JSON.parse(storedConfig)\r\n    } catch (error) {\r\n      console.error('配置信息解析失败:', error)\r\n      configInfo.value = {}\r\n    }\r\n  }\r\n  \r\n  // 启动倒计时\r\n  calculateCountdown()\r\n  timer = setInterval(calculateCountdown, 1000)\r\n})\r\n\r\n// 组件卸载时清除定时器\r\nonUnmounted(() => {\r\n  if (timer) {\r\n    clearInterval(timer)\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard {\r\n  .info-card,\r\n  .notice-card {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .card-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    .title {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      color: #1890ff;\r\n    }\r\n  }\r\n\r\n  .notice-content {\r\n    .deadline-box {\r\n      background-color: #fff2f0;\r\n      border: 1px solid #ffccc7;\r\n      padding: 16px;\r\n      border-radius: 4px;\r\n      margin-bottom: 20px;\r\n\r\n      .deadline-title {\r\n        color: #ff4d4f;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        margin-bottom: 12px;\r\n      }\r\n\r\n      .countdown {\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 14px;\r\n\r\n        .time-item {\r\n          display: inline-block;\r\n          background-color: #ff4d4f;\r\n          color: white;\r\n          padding: 4px 8px;\r\n          border-radius: 4px;\r\n          margin: 0 4px;\r\n          font-weight: bold;\r\n          min-width: 36px;\r\n          text-align: center;\r\n        }\r\n      }\r\n    }\r\n\r\n    .info-box {\r\n      margin: 20px 0;\r\n\r\n      .stat-item {\r\n        background: #f8f9fa;\r\n        border-radius: 8px;\r\n        padding: 20px;\r\n        text-align: center;\r\n        transition: all 0.3s;\r\n        height: 100%;\r\n\r\n        &:hover {\r\n          transform: translateY(-5px);\r\n          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .stat-header {\r\n          font-size: 16px;\r\n          color: #666;\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .stat-body {\r\n          .stat-number {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #1890ff;\r\n            margin-bottom: 5px;\r\n          }\r\n\r\n          .stat-label {\r\n            font-size: 14px;\r\n            color: #999;\r\n          }\r\n\r\n          .stat-status {\r\n            padding: 10px 0;\r\n            \r\n            .status-wrapper {\r\n              .status-content {\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                gap: 8px;\r\n                transition: all 0.3s;\r\n                padding: 10px;\r\n                border-radius: 4px;\r\n\r\n                &:hover {\r\n                  background: #f5f7fa;\r\n                }\r\n\r\n                .el-tag {\r\n                  font-size: 16px;\r\n                  padding: 8px 16px;\r\n                }\r\n\r\n                .action-text {\r\n                  color: #1890ff;\r\n                  font-size: 14px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .notice-message {\r\n      margin-top: 20px;\r\n\r\n      :deep(.el-alert__title) {\r\n        font-size: 14px;\r\n        line-height: 1.6;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n ","import script from \"./student-dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./student-dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./student-dashboard.vue?vue&type=style&index=0&id=47843368&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47843368\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","userStore","useUserStore","router","useRouter","configInfo","ref","JSON","parse","getCookie","countdown","days","hours","minutes","seconds","timer","formatDate","dateStr","date","Date","getFullYear","String","getMonth","padStart","getDate","calculateCountdown","value","end_time","endTime","getTime","now","diff","clearInterval","Math","floor","handleStatusClick","userInfo","stu_group","push","onMounted","storedConfig","error","console","setInterval","onUnmounted","__exports__"],"sourceRoot":""}