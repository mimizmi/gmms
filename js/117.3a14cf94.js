"use strict";(self["webpackChunkgdmu_mentor_selection"]=self["webpackChunkgdmu_mentor_selection"]||[]).push([[117],{1241:function(e,a){a.A=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t}},4267:function(e,a,t){t.d(a,{O:function(){return s}});var l=t(5720);function s(){return(0,l.A)({url:"/api/Grade/get-all",method:"get"})}},2117:function(e,a,t){t.r(a),t.d(a,{default:function(){return L}});t(4114),t(1454);var l=t(6768),s=t(144),r=t(4232),n=t(8500),u=t(9942),d=t(4267),c=t(1219),o=t(7477),i=t(1387);const k={class:"dashboard"},_={class:"card-header"},b={class:"title"},f={class:"card-header"},v={class:"title"},g={class:"stats-content"},p=["onClick"],h={class:"stat-header"},F={class:"stat-body"},m={class:"stat-number"};var y={__name:"teacher-dashboard",setup(e){const a=(0,n.k)(),t=(0,i.rd)(),y=(0,s.KR)(!1),R=(0,s.KR)([]),C=async()=>{y.value=!0;try{const e=await(0,d.O)(),t=await Promise.all(e.map((async e=>{const t=await(0,u.xx)(a.userInfo.tea_id,e.gde_value);return{grade:e.gde_value,count:(t||[]).length}})));R.value=t.sort(((e,a)=>a.grade-e.grade))}catch(e){console.error("获取统计信息失败:",e),c.nk.error("获取统计信息失败")}finally{y.value=!1}},L=()=>{C()},W=e=>{t.push({path:"/teacher/my-groups",query:{grade:e}})};return(0,l.sV)((()=>{C()})),(e,n)=>{const u=(0,l.g2)("el-icon"),d=(0,l.g2)("el-button"),c=(0,l.g2)("el-descriptions-item"),i=(0,l.g2)("el-descriptions"),C=(0,l.g2)("el-card"),I=(0,l.g2)("el-col"),w=(0,l.g2)("el-row"),O=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",k,[(0,l.bF)(C,{class:"info-card"},{header:(0,l.k6)((()=>[(0,l.Lk)("div",_,[(0,l.Lk)("span",b,[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,s.R1)(o.eHG))])),_:1}),n[1]||(n[1]=(0,l.eW)(" 个人信息 "))]),(0,l.bF)(d,{type:"primary",link:"",onClick:n[0]||(n[0]=e=>(0,s.R1)(t).push("/teacher/settings"))},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,s.R1)(o.B5R))])),_:1}),n[2]||(n[2]=(0,l.eW)(" 修改信息 "))])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(i,{column:2,border:""},{default:(0,l.k6)((()=>[(0,l.bF)(c,{label:"姓名"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)((0,s.R1)(a).userInfo?.tea_name),1)])),_:1}),(0,l.bF)(c,{label:"联系方式"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)((0,s.R1)(a).userInfo?.tea_phone),1)])),_:1}),(0,l.bF)(c,{label:"所属专业"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)((0,s.R1)(a).userInfo?.tea_mjr?.join("、")),1)])),_:1}),(0,l.bF)(c,{label:"个人介绍"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)((0,s.R1)(a).userInfo?.tea_info||"暂无介绍"),1)])),_:1})])),_:1})])),_:1}),(0,l.bF)(C,{class:"stats-card"},{header:(0,l.k6)((()=>[(0,l.Lk)("div",f,[(0,l.Lk)("span",v,[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,s.R1)(o.dlO))])),_:1}),n[3]||(n[3]=(0,l.eW)(" 小组统计 "))]),(0,l.bF)(d,{type:"primary",link:"",onClick:L},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,s.R1)(o.C42))])),_:1}),n[4]||(n[4]=(0,l.eW)(" 刷新 "))])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",g,[(0,l.bF)(w,{gutter:20},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(R.value,((e,a)=>((0,l.uX)(),(0,l.Wv)(I,{span:8,key:a},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"stat-item",onClick:a=>W(e.grade),style:{cursor:"pointer"}},[(0,l.Lk)("div",h,(0,r.v_)(e.grade)+"级",1),(0,l.Lk)("div",F,[(0,l.Lk)("div",m,(0,r.v_)(e.count),1),n[5]||(n[5]=(0,l.Lk)("div",{class:"stat-label"},"已分配小组",-1))])],8,p)])),_:2},1024)))),128))])),_:1})])),[[O,y.value]])])),_:1})])}}},R=t(1241);const C=(0,R.A)(y,[["__scopeId","data-v-11ebb5d6"]]);var L=C}}]);
//# sourceMappingURL=117.3a14cf94.js.map